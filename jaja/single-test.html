<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<title>JaJa</title>
		<script src="libs/jquery-1.4/jquery-1.4.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="jaja.js" type="text/javascript" charset="utf-8"></script>
		
	</head>
	<body id="jaja">
		<script type="text/javascript" charset="utf-8">
//			expr = "2 * (3 - 4 - 3) + 5";

//			expr = "1 / 4 + [3 - 4] * 5 + 3 / 3 + 5";
			expr = "1 + 5 + [3 + 5 + 4, 7, 8 + 9] * 5 * 5";
//ok			expr = "5 + uppercase('1234', 'abcde', '4321').substring(3, 10) + [3, 5 + 3] + 3";
			expr = "uppercase('1234', 'abcde', '4321').substring(3, 10) + [3, 5 + 3] + 3";
//			expr = "1 + 3 - 4 * 5";

//			expr = "2 / [3 - 4 - 3] * 5 + [3 - 4 - 3 / 3 + 4 * 5] * 4";
//			expr = "1 + 3 * (3 - 4) + 5 * (5 - 4 * 5) + (43 - 12) / 2 ";
//CRASH			expr = "join(1, [1, a.b, 4/7], 5, 4) * 8";
//			jaja.useCompiler = false;
			var compiledCode = jaja.compile(expr);
			console.log("original code: ", expr);
			console.log("compiled code: ", compiledCode);
/*
			var result = jaja.eval(expr);
			var ref = eval(expr);
			if (result===ref) {
				console.info("OK!", result);
			} else {
				console.error("FAILED! : ", result, " != ", ref);
			}
*/
		</script>
	</body>
</html>
